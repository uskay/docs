---
class: post-blog post-detail
type: Blog
$title: "Use AMPHTML ads for better ad performance, page usability and user safety"
id: ads-use-amphtml-ads-for-better-ad-performance-page-usability-and-user-safety
author: amphtml
role: 
origin: "https://amphtml.wordpress.com/2018/12/04/use-amphtml-ads-for-better-ad-performance-page-usability-and-user-safety/amp/"
excerpt: "This is part of a larger AMP monetization series on Medium that includes the below topics: Ensure Ad Density is equal on AMP &#38; non-AMP pages Optimize your AMP pages for high ad viewability or views Take advantage of more ad competition with multi-size ads &#38; fluid Better than header bidding → AMP RTC Take [&#8230;]"
avatar: https://1.gravatar.com/avatar/42ecb1ea497ca9d0ffe1e406cae70e27?s=96&d=identicon&r=G
date_data: 2018-12-04T07:58:54-08:00
$date: December 4, 2018
$parent: /content/latest/list-blog.html
$path: /latest/blog/{base}/
$localization:
  path: /{locale}/latest/blog/{base}/
components:
  - social-share
  - anim
inlineCSS: false
---

<div class="amp-wp-article-content">

		<p><em>This is part of a larger AMP monetization series on Medium that includes the below topics:</em></p><ol><li><a href="https://medium.com/ampfuel/ensure-ad-density-is-equal-on-amp-non-amp-pages-4e457d603d76" target="_blank" rel="noreferrer noopener">Ensure Ad Density is equal on AMP &amp; non-AMP pages</a></li><li><a href="https://medium.com/ampfuel/optimize-your-amp-pages-for-high-ad-viewability-rate-or-high-ads-served-311f6b539c73" target="_blank" rel="noreferrer noopener">Optimize your AMP pages for high ad viewability or views</a></li><li><a href="https://medium.com/ampfuel/increase-ad-competition-with-multi-size-fluid-ads-in-amp-9cff90066c16" target="_blank" rel="noreferrer noopener">Take advantage of more ad competition with multi-size ads &amp; fluid</a></li><li><a href="https://medium.com/ampfuel/better-than-header-bidding-amp-rtc-fc54e80f3999" target="_blank" rel="noreferrer noopener">Better than header bidding → AMP RTC</a></li><li><a href="https://medium.com/ampfuel/take-advantage-of-video-ads-in-amp-92cf8651268a" target="_blank" rel="noreferrer noopener">Take advantage of video ads in AMP</a></li><li><a href="https://medium.com/ampfuel/leverage-rich-media-ad-support-in-amp-pages-15fa7cddadd7" target="_blank" rel="noreferrer noopener">Leverage rich media ad support in AMP</a></li><li><a href="https://medium.com/ampfuel/use-amphtml-ads-for-ad-performance-page-usability-user-safety-a36dd70b1100" target="_blank" rel="noreferrer noopener">Use AMPHTML ads for better ad performance, page usability &amp; user safety</a></li></ol><p><i>Originally <a href="https://medium.com/ampfuel/use-amphtml-ads-for-ad-performance-page-usability-user-safety-a36dd70b1100">posted on Medium</a> by Vamsee Jasti, Product Manager for AMPHTML ads at Google.</i></p><p>Up until now, this monetization series was about ensuring you made the most revenue from existing JavaScript(JS) based ads served to AMP pages — which have a number of challenges independent of the web page. In this post, let’s talk about how we may approach improving the display ads ecosystem.</p><p>We’ve made a lot of progress in delivering a user-first advertising experience on AMP pages, but along the way we’ve learned that the principles of AMP pages can be transferred to display ads to make a step function improvement.</p><blockquote class="wp-block-quote"><p>We set out to solve the issues of security &amp; performance using AMPHTML ads (FKA A4A/ AMP ads) and have the benefits available not only to AMP pages, but also to any environment where display ads are served — regular web pages &amp; mobile apps.</p></blockquote><p>AMP’s tech lead, Malte, wrote about AMPHTML ads’ humble beginnings in <a href="https://medium.com/@cramforce/but-what-about-the-ads-bfe5025b6606" target="_blank" rel="noreferrer noopener">this post</a> (I’ll summarize most of it below but you should also consider reading it to know where we started and how we’ve evolved over time).</p><div class="wp-block-image"><figure class="aligncenter"><amp-img src="https://amphtml.files.wordpress.com/2018/12/1c71e-1t7gbdsnahkeu1nvki8vvwg.png?w=660" alt="" width="308" height="78" sizes="(min-width: 308px) 308px, 100vw" class="amp-wp-enforced-sizes"></amp-img></figure></div><p>We’ve come a long way since then, and today I’d like to talk about:</p><ul><li>What AMPHTML ads are</li><li>What AMPHTML ads aren’t</li><li>Why publishers should want AMPHTML ads</li><li>Why advertisers should want AMPHTML ads</li><li>Support status of AMPHTML across the display ads ecosystem</li></ul><h3 id="53d4">What AMPHTML ads are</h3><p>AMPHTML ads is a framework that gives ad developers, advertisers, ad servers and publishers, the building blocks to create and deliver ads that are performant and secure.</p><p>Similar to AMP, an AMPHTML ad is only valid if it’s made of HTML + CSS + the JS from the open source <a href="https://github.com/ampproject/amphtml" rel="noreferrer noopener" target="_blank">AMP Project repo</a>.</p><blockquote class="wp-block-quote"><p>AMPHTML ads are a strict subset of the AMP page spec and ships with many good-by-default ads UI components, an analytics measurement framework, a spam detection system, viewability measurement and other goodies.</p></blockquote><h3 id="cf39">A simple AMPHTML ad</h3><pre class="wp-block-preformatted">&lt;!doctype html&gt;<br/>&lt;html ⚡4ads&gt;<br/>&lt;head&gt;<br/> &lt;meta charset=”utf-8"&gt;<br/> &lt;title&gt;My amphtml ad&lt;/title&gt;<br/> &lt;meta name=”viewport” content=”width=device-width,minimum-scale=1,initial-scale=1"&gt;<br/><a href=""></a><br/> &lt;style amp4ads-boilerplate&gt;body{visibility:hidden}&lt;/style&gt;<br/>&lt;/head&gt;<br/>&lt;body&gt;<br/>&lt;a target=”_blank” href=”https://www.ampproject.org"&gt;<br/><strong>&lt;amp-img width=”300" height=”250"<br/> src=”https://www.ampproject.org/static/img/docs/ads/amp-300x250.png"&gt;&lt;/amp-img&gt;</strong><br/> &lt;/a&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</pre><p>Notice, no arbitrary JavaScript and all the code is declarative.</p><figure class="wp-block-image"><amp-img src="https://cdn-images-1.medium.com/max/1600/0*pZyFsPfrybOnsSdj" alt="" width="660" height="400" class="amp-wp-unknown-size amp-wp-enforced-sizes" sizes="(min-width: 660px) 660px, 100vw"></amp-img><figcaption>An AMPHTML ad on the left and a regular ad on the right</figcaption></figure><h3 id="146a">What AMPHTML ads are not (at least, not yet)</h3><p>AMPHTML ads don’t ensure that the visual content of the ad is high quality.</p><h3 id="6fd3">Why publishers should want AMPHTML ads</h3><p>When an ad is developed in AMP, the ad will have minimal performance impact to the web page and it gives back publishers control over the user experience of the page.</p><p>Ad creators vary a lot. Even a well-intentioned advertiser could create an ad that could lock up the CPU, janking the webpage and resulting in your visitors quitting your site. Then, there are a small minority of malicious advertisers set out to serve themselves ahead of your experience and your users. These issues can give knowledgable visitors another reason to install an ad blocker. One of the main reasons for this behavior lies in early design decision for legacy ads on the web allowed embedding ad iframes with arbitrary (a lot of times with terrible performance) JS.</p><p>Wouldn’t it be great if we could guarantee that the JS used within an ad is always performant and doesn’t deteriorate the page performance by too much? We expect AMP to meet that bar and since the code is all open source, anyone can review it and suggest changes to improve further. In addition, the following properties of AMP solve a number of issues of the display ads ecosystem:</p><h4 id="61f8">Statically analyzable</h4><p>All AMPHTML ads are statically analyzable, which means that ads can’t run:</p><ol><li>any code that isn’t part of the public AMP GitHub repo</li><li>additional JS that isn’t part of the rendered ad code</li></ol><div class="wp-block-image"><figure class="aligncenter"><amp-img src="https://amphtml.files.wordpress.com/2018/12/d248a-1aiucrwmlex0vtyhiyiixug.png?w=660" alt="" width="660" height="535" sizes="(min-width: 660px) 660px, 100vw" class="amp-wp-enforced-sizes"></amp-img><figcaption>El Pais saw a reduction of 90% in ad latency using AMPHTML ads driving the CTR up by 32%</figcaption></figure></div><h4 id="29fa">Trustworthy</h4><div class="wp-block-image"><figure class="alignleft is-resized"><amp-img src="https://amphtml.files.wordpress.com/2018/12/82c7f-1boc-ab3awiehlvlet62niq.png?w=180&amp;h=269" alt="" width="180" height="269" sizes="(min-width: 180px) 180px, 100vw" class="amp-wp-enforced-sizes"></amp-img></figure></div><p>All of the code in the AMP repo is open source which is carefully reviewed. Therefore, it can’t have things like JS that takes advantage of a chipset level vulnerability which could steal passwords entered to your websites. If a malicious actor tried to add such code, the <a rel="noreferrer noopener" href="https://amphtml.wordpress.com/2018/09/18/governance/" target="_blank">AMP maintainers</a> have a process in place to ensure that such code isn’t merged into the repo.</p><p></p><h4 id="ef2b">Rapid &amp; universal upgradeability</h4><p>If we discover a vulnerability in the AMP code or at lower level stack that’s taking advantage or stealing user information from your site, the AMPHTML ads runtime can be updated and most users will have the latest version of the secure ads runtime within a day.</p><h4 id="0aee">Self-aware of page performance</h4><p>Animations within an ad can have a lot of impact to page performance. AMPHTML ads automatically pause animations when they are off-screen saving precious battery &amp; CPU.</p><h4 id="13ca">Caching a single library</h4><p>Another performance benefit of using a single ads runtime standard is that different ad functionality can reference the runtime that is in the cache across multiple AMPHTML ads served to the same browser. As the volume of AMPHTML ads increases on the web, more users will have the ads runtime available in the browser cache. Contrast this to loading two different libraries for two separate functionalities, both of which are less likely to be available in the browser cache.</p><h4 id="2e1c">Efficient rendering in same-orgin iframes</h4><p>For AMPHTML ads, the ads script can serve them into iframes on the same origin as the script tag which is more efficient compared to loading the ad into a cross domain iframe. This is only possible because AMPHTML can’t have custom JS and therefore reduce risk from a security perspective.</p><div class="wp-block-image"><figure class="aligncenter"><amp-img src="https://amphtml.files.wordpress.com/2018/12/a456f-1md8ahxww5qp8xnqkewkcsa.png?w=660" alt="" width="660" height="214" sizes="(min-width: 660px) 660px, 100vw" class="amp-wp-enforced-sizes"></amp-img><figcaption>Time Inc saw an increase of 13% higher revenue with AMPHTML ads that were 3X lighter and 6X faster.</figcaption></figure></div><h3 id="be7e">Why advertisers should want AMPHTML ads</h3><h4 id="cf17">Built-in ad UI components</h4><div class="wp-block-image"><figure class="aligncenter"><amp-anim src="https://amphtml.files.wordpress.com/2018/12/9f391-1rn_ef-ziaekohtnvzvgkhw.gif?w=660" alt="" width="300" height="533" sizes="(min-width: 300px) 300px, 100vw" class="amp-wp-enforced-sizes"></amp-anim><figcaption>&lt;amp-video&gt; component used with scroll bound AMP animations</figcaption></figure></div><p>AMPHTML ads ship with a number of UI components that allow ad creators to build great looking ads, with full access to the web animations API, a first-class analytics framework and viewability support. These built-in modules are developed with performance in mind, so advertisers can be assured they are using the best in class browser/app APIs to build this functionality.</p><h4 id="6c60">Viewability measurement without discrepancies</h4><p>Viewability is probably one of the most important metrics advertisers care about, and publishers, advertisers and ad tech, each want to verify viewability on their own resulting in each inserting their own JS to collect viewability data.</p><p>Problem is, each one of them uses their own technique to collect viewabilty. This is not only a terrible waste of CPU, it leads to viewability mismatch between the three collectors. AMPHTML ads rely on browser native APIs like <a href="https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API" rel="noreferrer noopener" target="_blank">Intersection Observer</a> to collect the most accurate viewability measurements and send them to anyone that requests it. Since all of this code is open source, an advertiser can inspect the collection methodology themselves if they choose to.</p><h4 id="f579">Development-time validator</h4><p>A lighter / more performant ad leads to more clicks and higher viewability. This should be pretty straightforward to reason, because one can’t click or view an ad if it doesn’t render on screen fast enough. This means that an advertiser should be incentivized to build a performant ad so they get more ROI on the same spend.</p><p>However, given the typical separation between advertisers, media agencies &amp; creative agencies, the advertiser has little control over the performance of the ad created by the creative agency. AMPHTML ads ship with a development time validator which gives a boolean answer to developers as they are building an ad if it’s valid AMPHTML. If it is valid, the creator can be assured that the ad would be performant.</p><h4 id="9c5d">Create once, deliver everywhere</h4><p>In the near future, an advertiser would be able to create a single AMPHTML ad and deliver across web pages, AMP pages &amp; mobile apps. AMPHTML ads will also natively support the <a href="https://www.iab.com/guidelines/safeframe/" rel="noreferrer noopener" target="_blank">SafeFrame API</a> and the <a href="https://www.iab.com/guidelines/mobile-rich-media-ad-interface-definitions-mraid/" rel="noreferrer noopener" target="_blank">MRAID API</a>, so advertisers can take advantage of advanced host (web or app) level functionality in a uniform way.</p><h3 id="ce74">Ecosystem Status</h3><p>It takes a village to make transformational changes like these, but some industry thought leaders have already spent significant amount of time &amp; resources in helping bring more AMPHTML ads to the web. You can note current status of each of these <a href="https://gist.github.com/jasti/a40b1d9b29d94fb6b10542eff1721ae7">using this link</a>.</p><h3 id="aaac">What’s the end goal?</h3><p>With <a href="https://amphtml.wordpress.com/2018/09/18/governance/" rel="noreferrer noopener" target="_blank">AMP’s new governance model</a> and industry participation, we think we can help advertisers and publishers use AMPHTML ads to deliver every single ad served on the web and mobile apps. If we accomplish this, we will be in a world where:</p><ol><li>Ads will be respectful to users’ devices and publishers’ web pages</li><li>Ads won’t impact the performance of a publisher page, earning them better revenue</li><li>Ads will earn advertisers higher ROI including better viewability</li><li>Users will be more secure on the web and therefore find fewer reasons to install ad blockers</li></ol><p>I hope you’ll join the AMP team in helping solve one of the most important and interesting challenges on the open web — advertising.</p><p>Thanks to <a href="https://medium.com/@cramforce?source=post_page">Malte Ubl</a>, <a href="https://medium.com/@kalmonte?source=post_page">Katharina Familia Almonte</a>, and <a href="https://medium.com/@rudygalfi?source=post_page">Rudy Galfi</a>.</p><p><em>Originally <a href="https://medium.com/ampfuel/use-amphtml-ads-for-ad-performance-page-usability-user-safety-a36dd70b1100">posted on Medium</a> by Vamsee Jasti, Product Manager for AMPHTML ads at Google.</em></p>	</div>

	

</div>

